#pragma config(Sensor, S2,     compass,        sensorI2CHiTechnicCompass)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

//This code will introduce you to the HiTechnic Compass Sensor.
//To see it in action, plug the compass sensor into the S2 port of your NXT brick

//This sensor reads the value of degrees from magnetic north, ranging from 0 to 359.
//Magnetic North is at 0, East at 90, South at 180, and West at 270.

//This code will show the directional value of the sensor, as well as giving some textual feedback.

task main()
{
	string direction = ""; //Stored for textual feedback

	while(true) { //Infinite Loop

		int dir = SensorValue(compass);

		nxtDisplayCenteredTextLine(2, "%d", dir); //Display the numerical value of the sensor's reading.

		//Textual Feedback
		//We will go around the compass, beginning with 0 degrees facing north.
		if(dir <= 360) { //If the compass gets a reading
			if(dir > 330 && dir <= 360) {
				direction = "North";
			}
			if(dir > 290 && dir <= 330) {
				direction = "Northwest";
			}
			if(dir > 250 && dir <= 290) {
				direction = "West";
			}
			if(dir > 210 && dir <= 250) {
				direction = "Southwest";
			}
			if(dir > 150 && dir <= 210) {
				direction = "South";
			}
			if(dir > 110 && dir <= 150) {
				direction = "Southeast";
			}
			if(dir > 70 && dir <= 110) {
				direction = "East";
			}
			if(dir > 30 && dir <= 70) {
				direction = "Northeast";
			}
			if(dir >= 0 && dir <= 30) {
				direction = "North";
			}
			nxtDisplayCenteredTextLine(4, direction);
		}
	}
}
